/* 1.0.0 */
/*****************************************************************************************************************************************************************\
* Module Name       : Pythagorean Triplets
* Description       : Euler Project <#> Source Code
* Original Author   : Jake Nabozny
* Date Created      : <date>
\*****************************************************************************************************************************************************************/


/*******************************************************************************\
* Include Files
\*******************************************************************************/
#include "pythtrip_private.h"


/*******************************************************************************\
* Macro Definitions
\*******************************************************************************/
#define PYTHTRIP_LIMIT    (1000)
// Answer: 31,875,000


/*******************************************************************************\
* Static Variables
\*******************************************************************************/


/*******************************************************************************\
* Static Functions
\*******************************************************************************/
static U4 u4_s_PythTrip_GetProduct(void);


/*******************************************************************************\
* Function Definitions
\*******************************************************************************/


/*****************************************************************************************************************************************************************\
* Function name     : vd_g_PythTrip_Main
* Called by         : main
* Argument(s)       : void
* Return            : void
* Description       : Entry Point for Euler Project 9 PythTrip
\*****************************************************************************************************************************************************************/
void vd_g_PythTrip_Main(void)
{
    U4 u4_t_ans;

    cout << "Find the product (abc) of a pythagorean triplet where a+b+c = 1000..\n\n";

    u4_t_ans = u4_s_PythTrip_GetProduct();

    cout << "Answer:\t" << u4_t_ans << "\n\n";
}


/*****************************************************************************************************************************************************************\
* Function name     : u4_s_PythTrip_GetProduct
* Called by         : vd_g_PythTrip_Main
* Argument(s)       : void
* Return            : U4
* Description       : Get Product of triplets
\*****************************************************************************************************************************************************************/
static U4 u4_s_PythTrip_GetProduct(void)
{
    U1 u1_t_run_flag;
    U4 u4_t_product;
    U2 u2_t_a;
    U2 u2_t_b;
    U2 u2_t_c;
    U4 u4_t_lhs;
    U4 u4_t_rhs;

    u1_t_run_flag = (U1)TRUE;
    u4_t_product  = (U4)0;
    u2_t_a        = (U2)100;

    while(u1_t_run_flag == (U1)TRUE)
    {
        u2_t_b = u2_t_a;
        u2_t_c = (U2)PYTHTRIP_LIMIT - (u2_t_a + u2_t_b);

        while(u2_t_b < u2_t_c)
        {
            u4_t_lhs = (U4)((u2_t_a * u2_t_a) + (u2_t_b * u2_t_b));
            u4_t_rhs = (U4)(u2_t_c * u2_t_c);

            if(u4_t_lhs == u4_t_rhs)
            {
                u4_t_product  = (U4)(u2_t_a * u2_t_b * u2_t_c);
                u1_t_run_flag = (U1)FALSE;
                break;
            }
            else
            {
                u2_t_b++;
                u2_t_c--;
            }
        }
        
        u2_t_a++;

        if(u2_t_a >= (U2)PYTHTRIP_LIMIT)
        {
            u1_t_run_flag = (U1)FALSE;
        }
    }

    cout << "a: " << (u2_t_a-(U2)1) << endl;
    cout << "b: " << u2_t_b         << endl;
    cout << "c: " << u2_t_c         << endl << endl;

    return(u4_t_product);
}


