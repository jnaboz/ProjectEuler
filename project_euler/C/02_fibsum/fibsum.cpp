/* 1.0.0 */
/*****************************************************************************************************************************************************************\
* Module Name       : Fibonacci Sequence Sum
* Description       : Euler Project 2 Source Code
* Original Author   : Jake Nabozny
* Date Created      : 10/17/2012
\*****************************************************************************************************************************************************************/


/*******************************************************************************\
* Include Files
\*******************************************************************************/
#include "fibsum_private.h"


/*******************************************************************************\
* Macro Definitions
\*******************************************************************************/
#define FIBSUM_LIMIT    (4000000)
// Answer: 4613732


/*******************************************************************************\
* Static Variables
\*******************************************************************************/


/*******************************************************************************\
* Static Functions
\*******************************************************************************/
static U4 u4_s_FibSum_CalculateSum(void);


/*******************************************************************************\
* Function Definitions
\*******************************************************************************/


/*****************************************************************************************************************************************************************\
* Function name     : vd_g_FibSum_Main
* Called by         : main
* Argument(s)       : void
* Return            : void
* Description       : Fibonacci Sequence Sum Euler Project 2 Entry Point
\*****************************************************************************************************************************************************************/
void vd_g_FibSum_Main(void)
{
    U4 u4_t_ans;

    cout << "Find the sum of all even Fibonacci sequence numbers below 4,000,000..\n\n";

    u4_t_ans = u4_s_FibSum_CalculateSum();

    cout << "Answer:\t" << u4_t_ans << "\n\n";
}


/*****************************************************************************************************************************************************************\
* Function name     : u4_s_FibSum_CalculateSum
* Called by         : main
* Argument(s)       : void
* Return            : void
* Description       : Fibonacci Sequence Sum Calculator
\*****************************************************************************************************************************************************************/
static U4 u4_s_FibSum_CalculateSum(void)
{
    U4 u4_t_num1;
    U4 u4_t_num2;
    U4 u4_t_res;
    U4 u4_t_sum;

    u4_t_num1 = (U4)1;
    u4_t_num2 = (U4)2;
    u4_t_res  = (U4)0;
    u4_t_sum  = (U4)2;

    while(u4_t_res < (U4)FIBSUM_LIMIT)
    {
        u4_t_res = u4_t_num1 + u4_t_num2;
        
        if((u4_t_res % (U4)2) == 0)
        {
            u4_t_sum += u4_t_res;
        }

        u4_t_num1 = u4_t_num2;
        u4_t_num2 = u4_t_res;
    }

    return(u4_t_sum);
}
